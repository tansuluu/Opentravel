<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
	<title>Places</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8">
	<!-- Font -->
	<title>Registration Form</title>
	<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="/folderforindex/styles/bootstrap4/bootstrap.min.css">
	<link href="folderforindex/plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="/folderforindex/plugins/OwlCarousel2-2.2.1/owl.carousel.css">
	<link rel="stylesheet" type="text/css" href="/folderforindex/plugins/OwlCarousel2-2.2.1/owl.theme.default.css">
	<link rel="stylesheet" type="text/css" href="/folderforindex/plugins/OwlCarousel2-2.2.1/animate.css">
	<link rel="stylesheet" type="text/css" href="/folderforindex/styles/main_styles.css">
	<link rel="stylesheet" type="text/css" href="/folderforindex/styles/responsive.css">
	<link rel="stylesheet" type="text/css" th:href="@{/folderforindex/css/bootstrap.css}" />
	<link rel="stylesheet" type="text/css" th:href="@{/folderforindex/css/ionicons.css}" />
	<link rel="stylesheet" type="text/css" th:href="@{/folderforindex/css/style.css}" />
	<link rel="stylesheet" type="text/html" th:href="@{/folderforindex/css/responsive.css}" />
</head>
<body class="body" th:object="${app}">
<header class="header">

	<!-- Top Bar -->

	<div class="top_bar">
		<div class="container">
			<div class="row">
				<div class="col d-flex flex-row">
					<div class="social">
						<ul class="social_list">

							<li class="social_list_item"><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
							<li class="social_list_item"><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
							<li class="social_list_item"><a href="#"><i class="fa fa-vk" aria-hidden="true"></i></a></li>
							<li class="social_list_item"><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>

						</ul>
					</div>
					<div class="user_box ml-auto">
						<div class="user_box_register user_box_link"><a th:if="${#request.userPrincipal != null}" th:href="@{/logout}">Logout</a></div>
						<div class="user_box_register user_box_link"><a th:if="${#request.userPrincipal != null}" th:href="@{/userPage(username=${#request.userPrincipal.name})}"  th:text="${#request.userPrincipal.name}"></a></div>

						<div class="user_box_register user_box_link"><a th:if="${#request.userPrincipal == null}" th:href="@{/registration}">Register</a></div>
						<div class="user_box_register user_box_link"><a th:if="${#request.userPrincipal == null}" th:href="@{/login}">Login</a></div>

					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Main Navigation -->

	<nav class="main_nav">
		<div class="container">
			<div class="row">
				<div class="col main_nav_col d-flex flex-row align-items-center justify-content-start">
					<div class="logo_container">
						<div class="logo"><a th:href="@{/}"><img src="" alt="">opentravel</a></div>
					</div>
					<div class="main_nav_container ml-auto">
						<ul class="main_nav_list">
							<li class="main_nav_item"><a th:href="@{/}">home</a></li>
							<li class="main_nav_item"><a th:href="@{/about}">about as</a></li>
							<li class="main_nav_item"><a th:href="@{/places}">offers</a></li>
							<li class="main_nav_item"><a th:href="@{/blog}">blog</a></li>
							<li class="main_nav_item"><a th:href="@{/gids}">users</a></li>
						</ul>
					</div>
					<div class="content_search ml-lg-0 ml-auto">
						<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
							width="17px" height="17px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
								<g>
									<g>
										<g>
											<path class="mag_glass" fill="#FFFFFF" d="M78.438,216.78c0,57.906,22.55,112.343,63.493,153.287c40.945,40.944,95.383,63.494,153.287,63.494
											s112.344-22.55,153.287-63.494C489.451,329.123,512,274.686,512,216.78c0-57.904-22.549-112.342-63.494-153.286
											C407.563,22.549,353.124,0,295.219,0c-57.904,0-112.342,22.549-153.287,63.494C100.988,104.438,78.439,158.876,78.438,216.78z
											M119.804,216.78c0-96.725,78.69-175.416,175.415-175.416s175.418,78.691,175.418,175.416
											c0,96.725-78.691,175.416-175.416,175.416C198.495,392.195,119.804,313.505,119.804,216.78z"/>
										</g>
									</g>
									<g>
										<g>
											<path class="mag_glass" fill="#FFFFFF" d="M6.057,505.942c4.038,4.039,9.332,6.058,14.625,6.058s10.587-2.019,14.625-6.058L171.268,369.98
											c8.076-8.076,8.076-21.172,0-29.248c-8.076-8.078-21.172-8.078-29.249,0L6.057,476.693
											C-2.019,484.77-2.019,497.865,6.057,505.942z"/>
										</g>
									</g>
								</g>
							</svg>
					</div>
					<div class="hamburger">
						<i class="fa fa-bars trans_200"></i>
					</div>
				</div>
			</div>
		</div>
	</nav>

</header>

<div class="menu trans_500">
	<div class="menu_content d-flex flex-column align-items-center justify-content-center text-center">
		<div class="menu_close_container"><div class="menu_close"></div></div>
		<div class="logo menu_logo"><a th:href="@{/}"><img src="images/logo.png" alt=""></a></div>
		<ul>
			<li class="menu_item"><a th:href="@{/}">home</a></li>
			<li class="menu_item"><a th:href="@{/about}">about us</a></li>
			<li class="menu_item"><a th:href="@{/places}">offers</a></li>
			<li class="menu_item"><a th:href="@{/blog}">blog</a></li>
			<li class="menu_item"><a th:href="@{/gids}">users</a></li>
		</ul>
	</div>
</div>
<div class="slider">

</div><!-- slider -->

<section class="post-area">
	<div class="container" >

		<div class="row">
			<div class="col-lg-1 col-md-0"></div>
			<div class="col-lg-10 col-md-12">

				<div class="main-post">

					<div class="post-top-area">

						<h5 class="pre-title"  th:text="${app.title}" style="text-align: center; font-size: 35px; font-weight: bold">Place</h5>
						<div class="post-image"><img th:if="${app.getPhoto1()}!=null" th:src="@{${'/image/'+app.photo1}}"alt="Blog Image"></div>

						<h4 class="title"><i class="fa fa-user"></i> <a th:href="@{/userPage(username=${app.author.getEmail()})}"> Author: <i th:text="${app.author.getEmail()}"></i></a></h4>
                        <h4 class="title"><i class="fa fa-tags"> </i> Category: <i th:text="${app.category}"></i></h4>
                        <h4 class="title"><i class="fa fa-calendar"> </i> Date: <i th:text="${app.date}"></i></h4>
						<h4 class="title"><i class="fa fa-home"> </i> Address: <i th:text="${app.address}"></i></h4>


						<p class="para" th:text="${app.text}"></p>

					</div><!-- post-top-area -->
					<div class="post-image"><img th:if="${app.getPhoto2()}!=null" th:src="@{${'/image/'+app.photo2}}"alt="Blog Image"></div>
					<div class="post-image"><img th:if="${app.getPhoto3()}!=null" th:src="@{${'/image/'+app.photo3}}"alt="Blog Image"></div>
					<div class="post-bottom-area">
						<div  th:if="${#request.userPrincipal!=null}">
							<button class="btn btn-danger" th:if="${app.author.getEmail()==#request.userPrincipal.name}"  type="button" data-toggle="modal" data-target="#myModal" style="width: 100%">DELETE THE PLACE</button>
						</div>
						<div  th:if="${#request.userPrincipal!=null}">
							<a  th:if="${app.author.getEmail()==#request.userPrincipal.name}"  class="load-more-btn" th:href="@{/updateApp(id=${app.id})}"><b>UPDATE THE PLACE</b></a>
						</div>
						<div class="right-area" sec:authorize="hasAuthority('ADMIN')">
                            <div th:if="${!#request.userPrincipal.getName().equals(app.author.getEmail())}">
								<button class="btn btn-danger" type="button" data-toggle="modal" data-target="#myModal" style="width: 100%">DELETE THE PLACE</button>
							<a class="load-more-btn" th:href="@{/updateApp(id=${app.id})}"><b>UPDATE THE PLACE</b></a>
                            </div>
						</div>
					</div><!-- post-bottom-area -->
				</div><!-- main-post -->
			</div><!-- col-lg-8 col-md-12 -->
		</div><!-- row -->
	</div><!-- container -->
</section><!-- post-area -->


<section class="recomended-area section">
	<div class="container" >
		<h5 class="pre-title" style="text-align: center; font-size: 35px; font-weight: bold">Popular places</h5>
		<div class="row">

			<div class="col-lg-4 col-md-6" th:each="app1:${popular}">
				<div class="card h-100">
					<div class="single-post post-style-1">

						<div class="blog-image"><img th:if="${app.getPhoto1()}!=null" th:src="@{${'/image/'+app1.photo1}}" alt="Blog Image"></div>

						<div class="blog-info">

							<h4 class="title"><a th:href="@{/placeInfo(id=${app1.id})}"><b th:text="${app1.title}"></b></a></h4>

						</div><!-- blog-info -->
					</div><!-- single-post -->
				</div><!-- card -->
			</div><!-- col-md-6 col-sm-12 -->
		</div><!-- row -->

	</div><!-- container -->
	<div class="row" th:fragment="pagination">
		<div class="col-md-2"></div>
		<div class="col-md-8">
			<nav aria-label="Pagination">
				<ul class="pagination justify-content-center">
					<li class="page-item" th:each="pageNumber : ${pageNumbers}" >
						<a class="page-link" th:href="@{/places(page=${pageNumber})}" th:text="${pageNumber}">1</a>
					</li>
				</ul>
			</nav>
		</div>
		<div class="col-md-2"></div>
	</div>
</section>
<div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 order-lg-1 order-2  ">
                <div class="copyright_content d-flex flex-row align-items-center">
                    <div><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This project is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by Brigada
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></div>
                </div>
            </div>
            <div class="col-lg-9 order-lg-2 order-1">
                <div class="footer_nav_container d-flex flex-row align-items-center justify-content-lg-end">
                    <div class="footer_nav">
						<ul class="footer_nav_list">
							<li class="footer_nav_item"><a th:href="@{/}">home</a></li>
							<li class="footer_nav_item"><a th:href="@{/about}">about us</a></li>
							<li class="footer_nav_item"><a th:href="@{/places}">offers</a></li>
							<li class="footer_nav_item"><a th:href="@{/blod}">blog</a></li>
							<li class="footer_nav_item"><a th:href="@{/gids}">users</a></li>

						</ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<b class="modal-title">Confirmation</b>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				Are you sure about deleting data?
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
				<a class="btn btn-danger btn-ok" th:href="@{/deleteAppP(id=${app.id})}" >Delete</a>
			</div>
		</div>
	</div>
</div>
<script>

</script>
<script src="folderforindex/js/jquery-3.2.1.min.js"></script>
<script src="folderforindex/styles/bootstrap4/popper.js"></script>
<script src="folderforindex/styles/bootstrap4/bootstrap.min.js"></script>
<script src="folderforindex/plugins/OwlCarousel2-2.2.1/owl.carousel.js"></script>
<script src="folderforindex/plugins/easing/easing.js"></script>
<script src="folderforindex/js/custom.js"></script>

<script src="folderforindex/common-js/jquery-3.1.1.min.js"></script>

<script src="folderforindex/common-js/tether.min.js"></script>

<script src="folderforindex/common-js/bootstrap.js"></script>

<script src="folderforindex/common-js/scripts.js"></script>

</body>
</html>
